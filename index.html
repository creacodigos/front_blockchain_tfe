<!DOCTYPE html>
<html lang="en">
<head>

    <!-- DESACTIVAR CACHÉ -->
    <meta http-equiv="Expires" content="0">
    <meta http-equiv="Last-Modified" content="0">
    <meta http-equiv="Cache-Control" content="no-cache, mustrevalidate">
    <meta http-equiv="Pragma" content="no-cache">
    <!-- DESACTIVAR CACHÉ -->

    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <script src="https://unpkg.com/@metamask/detect-provider/dist/detect-provider.min.js"></script>
    <script src="https://cdn.ethers.io/lib/ethers-5.2.umd.min.js"
        charset="utf-8"
        type="text/javascript">
    </script>
    <script src="scripts.js" type="module" defer ></script>
    <title>Trabajo TFE</title>
    <style>
        body, html, * {
            font-size: 12px;
        }
        section.container section {
            border-radius: .5rem;
            padding: 1rem;
            margin-bottom: 1rem;
            border: 1px solid black;
        }
        section.container section.dron{
            border-color: brown;
            color: brown;
        }
        section.container section.dron button{
            background-color: brown;
        }
        section.container section.parcela{
            border-color: blue;
            color: blue;
        }
        section.container section.parcela button{
            background-color: blue;
        }
        section.container section.fumigacion{
            border-color: green;
            color: green;
        }
        section.container section.fumigacion button{
            background-color: green;
        }
        section.container section.fumitoken{
            border-color: black;
            color: black;
        }
        section.container section.fumitoken button{
            background-color: black;
        }
        form {
            padding: 1rem;
        }
        textarea{
            font-family: 'Courier New', Courier, monospace;
            font-size: .8rem;
        }
        button.buttonErrorRed,
        section#infos > section{
            display: none;
        }
        pre{
            background-color: #FAFAFA;
            margin: 1rem 0;
        }
        header {
            position: sticky;
            top: 0;
            background-color: grey;
            color: black;
            padding: 1rem;
        }
        header ul {
            list-style: none;
            padding: 0 2rem;
            margin: 0;
            display: flex;
            align-items: center;
            justify-content:space-between;
        }
        header ul li a{
            color: white;
            text-transform: uppercase;
            text-decoration: none;

        }
        #infos, #drones, #parcelas, #fumigaciones, #tokens {
            padding-top: 5rem;
        }
        button{
            border: none !important;
            padding: .5rem 1rem !important;
        }
        button.actualizar{
            position: fixed;
            bottom: 2rem;
            right: 2rem;
            border: none;
            border-radius: 1rem;
            padding: 1rem;
            color: white;
            background-color: green;
            font-size: .9rem;
            font-weight: bold;
        }
    </style>
</head>
<body>
    <header>
        <nav>
            <ul>
                <li><a href="#infos">Información</a></li>
                <li><a href="#drones">Drones</a></li>
                <li><a href="#parcelas">Parcelas</a></li>
                <li><a href="#fumigaciones">Fumigaciones</a></li>
                <li><a href="#tokens">Tokens</a></li>
                <li><a href="./diagramas.html">Diagramas</a></li>
                <li><a href="./coverage/">Coverage</a></li>
            </ul>
        </nav>
    </header>
    <section class="container " id="infos">

        <img src="./img/Metamask.svg" height="50" class="mx-3">
        <button class="btn btn-primary enableEthereumButton">Conectar con Metamask</button>
        <button class="btn btn-success buttonconectado">Conectado</button>
        <button class="btn btn-danger buttonErrorRed">Debes estar en la red Rinkeby de Ethereum</button>
        <button class="actualizar" onclick="window.location.reload()">ACTUALIZAR</button>
        
        <form action="">
            <div class="mb-3">
                <label for="showAccount" class="form-label text-bold"><strong>Cuenta conectada con Metamask</strong></label>
                <input type="text" class="form-control" id="showAccount" readonly >
            </div>
            <div class="mb-3">
                <label for="wallet_info" class="form-label">Wallet Info</label>
                <textarea id="wallet_info" class="form-control" rows="8"></textarea>
            </div>
            <div class="mb-3">
                <label for="contratcs_info" class="form-label">Contracts Info</label>
                <textarea id="contratcs_info" class="form-control" rows="6"></textarea>
            </div>
        </form>
<!-- DRON -->
        <section class="dron" id="drones">
            <h4>
                Crear Dron:
            </h4>
            <form action="" class="form_crear_dron">
                <div class="mb-3">
                    <label for="select_empresa" class="form-label">Empresa</label>
                    <!-- INPUT ADDRESS -->
                    <input type="nutextmber" class="form-control" id="CreateDronEmpresa" value="0x4B87e2d65FaCF3e16Aa99a6704aa99c666539a56">
                </div>
                <div class="mb-3">
                    <label for="altura_minima" class="form-label">Altura Mínima</label>
                    <input type="number" class="form-control" id="altura_minima" value="1">
                </div>
                <div class="mb-3">
                    <label for="altura_maxima" class="form-label">Altura Máxima</label>
                    <input type="number" class="form-control" id="altura_maxima" value="1">
                </div>
                <div class="mb-3">
                    <label for="coste" class="form-label">Coste</label>
                    <input type="number" class="form-control" id="coste" value="1">
                </div>
                <div class="mb-3">
                    <label for="coste" class="form-label">Pesticidas</label>
                    <div class="form-check">
                        <input class="form-check-input" type="checkbox" value="1" id="pesticida_a">
                        <label class="form-check-label" for="pesticida_a">
                            Pesticida A
                        </label>
                    </div>
                    <div class="form-check">
                        <input class="form-check-input" type="checkbox" value="2" id="pesticida_b">
                        <label class="form-check-label" for="pesticida_b">
                            Pesticida B
                        </label>
                    </div>
                    <div class="form-check">
                        <input class="form-check-input" type="checkbox" value="3" id="pesticida_c">
                        <label class="form-check-label" for="pesticida_c">
                            Pesticida C
                        </label>
                    </div>
                    <div class="form-check">
                        <input class="form-check-input" type="checkbox" value="4" id="pesticida_d">
                        <label class="form-check-label" for="pesticida_d">
                            Pesticida D
                        </label>
                    </div>
                    <div class="form-check">
                        <input class="form-check-input" type="checkbox" value="5" id="pesticida_e">
                        <label class="form-check-label" for="pesticida_e">
                            Pesticida E
                        </label>
                    </div>
                </div>
            </form>
            <button class="sendCreateDron btn btn-secondary" form="form_crear_dron" contract="Dron" method="CrearDron">Crear Dron</button>
            <pre class="form_crear_dron"></pre>
        </section>
        <section class="dron">
            <h4>
                Dron Configurar Empresa:
            </h4>
            <form action="" class="form_dron_congifurar_empresa">
                <div class="mb-3">
                    <label for="select_dron" class="form-label">Dron</label>
                    <select class="form-select drones drones" id="select_dron" aria-label="Seleccionar Dron">
                    </select>
                </div>
                <div class="mb-3">
                    <label for="select_empresa" class="form-label">Empresa</label>
                    <!-- INPUT ADDRESS -->
                    <input type="nutextmber" class="form-control" id="CreateDronEmpresa" value="0x4B87e2d65FaCF3e16Aa99a6704aa99c666539a56">
                </div>
            </form>
            <button class="btn btn-secondary" form="form_dron_congifurar_empresa" contract="Dron" method="ConfigurarEmpresa">Configurar Empresa</button>
            <pre class="form_dron_congifurar_empresa"></pre>
        </section>
        <section class="dron">
            <h4>
                Dron Configurar Altitud:
            </h4>
            <form action="" class="form_dron_congifurar_altitud">
                <div class="mb-3">
                    <label for="select_dron" class="form-label">Dron</label>
                    <select class="form-select drones" id="select_dron" aria-label="Seleccionar Dron">
                    </select>
                </div>
                <div class="mb-3">
                    <label for="altura_minima" class="form-label">Altura Mínima</label>
                    <input type="number" class="form-control" id="altura_minima" value="1">
                </div>
                <div class="mb-3">
                    <label for="altura_maxima" class="form-label">Altura Máxima</label>
                    <input type="number" class="form-control" id="altura_maxima" value="1">
                </div>
            </form>
            <button class="btn btn-secondary" form="form_dron_congifurar_altitud" contract="Dron" method="ConfigurarAltitud">Configurar Altitud</button>
            <pre class="form_dron_congifurar_altitud"></pre>
        </section>
        <section class="dron">
            <h4>
                Dron Configurar Coste:
            </h4>
            <form action="" class="form_dron_congifurar_coste">
                <div class="mb-3">
                    <label for="select_dron" class="form-label">Dron</label>
                    <select class="form-select drones" id="select_dron" aria-label="Seleccionar Dron">
                    </select>
                </div>
                <div class="mb-3">
                    <label for="coste" class="form-label">Coste</label>
                    <input type="number" class="form-control" id="coste" value="1">
                </div>
            </form>
            <button class="btn btn-secondary" form="form_dron_congifurar_coste" contract="Dron" method="ConfigurarCoste">Configurar Coste</button>
            <pre class="form_dron_congifurar_coste"></pre>
        </section>
        <section class="dron">
            <h4>
                Dron Buscar Pesticida:
            </h4>
            <form action="" class="form_dron_buscar_persticida">
                <div class="mb-3">
                    <label for="select_dron" class="form-label">Dron</label>
                    <select class="form-select drones" id="select_dron" aria-label="Seleccionar Dron">
                    </select>
                </div>
                <div class="mb-3">
                    <label for="pesticida" class="form-label">Pesticida</label>
                    <select class="form-select pesticidas" id="pesticida" aria-label="Seleccionar Pesticida">
                    </select>
                </div>
            </form>
            <button class="btn btn-secondary" form="form_dron_buscar_persticida" contract="Dron" method="BuscarPesticida">Buscar Pesticida</button>
            <pre class="form_dron_buscar_persticida"></pre>
        </section>
        <section class="dron">
            <h4>
                Dron Alta Pesticida:
            </h4>
            <form action="" class="form_dron_alta_pesticida">
                <div class="mb-3">
                    <label for="select_dron" class="form-label">Dron</label>
                    <select class="form-select drones" id="select_dron" aria-label="Seleccionar Dron">
                    </select>
                </div>
                <div class="mb-3">
                    <label for="desticida" class="form-label">Pesticida</label>
                    <select class="form-select pesticidas" id="pesticida" aria-label="Seleccionar Pesticida">
                    </select>
                </div>
            </form>
            <button class="btn btn-secondary" form="form_dron_alta_pesticida" contract="Dron" method="AltaPesticida">Alta Pesticida</button>
            <pre class="form_dron_alta_pesticida"></pre>
        </section>
        <section class="dron">
            <h4>
                Dron Baja Pesticida:
            </h4>
            <form action="" class="form_dron_baja_pesticida">
                <div class="mb-3">
                    <label for="select_dron" class="form-label">Dron</label>
                    <select class="form-select drones" id="select_dron" aria-label="Seleccionar Dron">
                    </select>
                </div>
                <div class="mb-3">
                    <label for="desticida" class="form-label">Pesticida</label>
                    <select class="form-select pesticidas" id="pesticida" aria-label="Seleccionar Pesticida">
                    </select>
                </div>
            </form>
            <button class="btn btn-secondary" form="form_dron_baja_pesticida" contract="Dron" method="BajaPesticida">Baja Pesticida</button>
            <pre class="form_dron_baja_pesticida"></pre>
        </section>
        <section class="dron">
            <h4>
                Dron Obtener Info Dron:
            </h4>
            <form action="" class="form_dron_obtener_dron">
                <div class="mb-3">
                    <label for="select_dron" class="form-label">Dron</label>
                    <select class="form-select drones" id="select_dron" aria-label="Seleccionar Dron">
                    </select>
                </div>
            </form>
            <button class="btn btn-secondary" form="form_dron_obtener_dron" contract="Dron" method="ObtenerInfoDron">Obtener Info Dron</button>
            <pre class="form_dron_obtener_dron"></pre>
        </section>
        <section class="dron">
            <h4>
                Dron Obtener Info Drones:
            </h4>
            <button class="btn btn-secondary" form="form_dron_obtener_drones" contract="Dron" method="ObtenerInfoDrones">Obtener Info Drones</button>
            <pre class="form_dron_obtener_drones"></pre>
        </section>

<!-- PARCELA -->
        <section class="parcela" id="parcelas"">
            <h4>
                Crear Parcela:
            </h4>
            <form action="" class="form_crear_parcela">
                <div class="mb-3">
                    <label for="altura_minima" class="form-label">Altura Mínima</label>
                    <input type="number" class="form-control" id="altura_minima" value="1">
                </div>
                <div class="mb-3">
                    <label for="altura_maxima" class="form-label">Altura Máxima</label>
                    <input type="number" class="form-control" id="altura_maxima" value="1">
                </div>
                <div class="mb-3">
                    <label for="coste" class="form-label">Pesticidas</label>
                    <select class="form-select pesticidas" id="pesticida" aria-label="Seleccionar Pesticida">
                    </select>
                </div>
            </form>
            <button class="sendCreateParcela btn btn-secondary" form="form_crear_parcela" contract="Parcela" method="CrearParcela">Crear Parcela</button>
            <pre class="form_crear_parcela"></pre>
        </section>

        <section class="parcela">
            <h4>
                Parcela Configurar Altitud:
            </h4>
            <form action="" class="form_parcela_congifurar_altitud">
                <div class="mb-3">
                    <label for="select_parcela" class="form-label">Parcela</label>
                    <select class="form-select parcelas" id="select_parcela" aria-label="Seleccionar Parcela">
                    </select>
                </div>
                <div class="mb-3">
                    <label for="altura_minima" class="form-label">Altura Mínima</label>
                    <input type="number" class="form-control" id="altura_minima" value="1">
                </div>
                <div class="mb-3">
                    <label for="altura_maxima" class="form-label">Altura Máxima</label>
                    <input type="number" class="form-control" id="altura_maxima" value="1">
                </div>
            </form>
            <button class="btn btn-secondary" form="form_parcela_congifurar_altitud" contract="Parcela" method="ConfigurarAltitud">Configurar Altitud</button>
            <pre class="form_parcela_congifurar_altitud"></pre>
        </section>

        <section class="parcela">
            <h4>
                Parcela Configurar Pesticida:
            </h4>
            <form action="" class="form_parcela_configurar_pesticida">
                <div class="mb-3">
                    <label for="select_parcela" class="form-label">Parcela</label>
                    <select class="form-select parcelas" id="select_parcela" aria-label="Seleccionar Parcela">
                    </select>
                </div>
                <div class="mb-3">
                    <label for="pesticida" class="form-label">Parcela</label>
                    <select class="form-select pesticidas" id="pesticida" aria-label="Seleccionar Pesticida">
                    </select>
                </div>
            </form>
            <button class="btn btn-secondary" form="form_parcela_configurar_pesticida" contract="Parcela" method="ConfigurarPesticida">Configurar Pesticida</button>
            <pre class="form_parcela_configurar_pesticida"></pre>
        </section>
        <section class="parcela">
            <h4>
                Parcela Obtener Info:
            </h4>
            <form action="" class="form_parcela_info_parcela">
                <div class="mb-3">
                    <label for="select_parcela" class="form-label">Parcela</label>
                    <select class="form-select parcelas" id="select_parcela" aria-label="Seleccionar Parcela">
                    </select>
                </div>
            </form>
            <button class="btn btn-secondary" form="form_parcela_info_parcela" contract="Parcela" method="ObtenerInfoParcela">Obtener Info Parcela</button>
            <pre class="form_parcela_info_parcela"></pre>
        </section>
        <section class="parcela">
            <h4>
                Parcelas Obtener Todas:
            </h4>
            <button class="btn btn-secondary" form="form_parcela_info_parcelas" contract="Parcela" method="ObtenerInfoParcelas">Obtener Todas Parcelas</button>
            <pre class="form_parcela_info_parcelas"></pre>
        </section>

<!-- Fumigación -->
        <section class="fumigacion" id="fumigaciones">
            <h4>
                Crear Fumigación:
            </h4>
            <form action="" class="form_crear_fumigacion">
                <div class="mb-3">
                    <label for="select_dron" class="form-label">Dron</label>
                    <select class="form-select drones" id="select_dron" aria-label="Seleccionar Dron">
                    </select>
                </div>
                <div class="mb-3">
                    <label for="select_parcela" class="form-label">Parcela</label>
                    <select class="form-select parcelas" id="select_parcela" aria-label="Seleccionar Parcela">
                    </select>
                </div>
            </form>
            <button class="btn btn-secondary" form="form_crear_fumigacion" contract="Fumigacion" method="SolicitarFumigacion">Crear Fumigación</button>
            <pre class="form_crear_fumigacion"></pre>
        </section>
        <section class="fumigacion">
            <h4>
                Pagar Fumigación:
            </h4>
            <form action="" class="form_pagar_fumigacion">
                <div class="mb-3">
                    <label for="select_fumigacion" class="form-label">Fumigación</label>
                    <select class="form-select fumigaciones" id="select_fumigacion" aria-label="Seleccionar Fumigación">
                    </select>
                </div>
            </form>
            <button class="btn btn-secondary" form="form_pagar_fumigacion" contract="Fumigacion" method="PagarFumigacion">Pagar Fumigación</button>
            <pre class="form_pagar_fumigacion"></pre>
            <div id="respuesta_fumigacion" class="mt-3">
                Pagar con ID de respuesta de la creación
            </div>
        </section>
        <section class="fumigacion">
            <h4>
                Realizar Fumigación:
            </h4>
            <form action="" class="form_realizar_fumigacion">
                <div class="mb-3">
                    <label for="select_fumigacion" class="form-label">Fumigación</label>
                    <select class="form-select fumigaciones" id="select_fumigacion" aria-label="Seleccionar Fumigación">
                    </select>
                </div>
            </form>
            <button class="btn btn-secondary" form="form_realizar_fumigacion" contract="Fumigacion" method="RealizarFumigacion">Realizar Fumigación</button>
            <pre class="form_realizar_fumigacion"></pre>
        </section>

        <section class="fumigacion">
            <h4>
                Fumigación Obtener Info:
            </h4>
            <form action="" class="form_fumigacion_info_fumigacion">
                <div class="mb-3">
                    <label for="select_fumigacion" class="form-label">Fumigacion</label>
                    <select class="form-select fumigaciones" id="select_fumigacion" aria-label="Seleccionar Fumigacion">
                    </select>
                </div>
            </form>
            <button class="btn btn-secondary" form="form_fumigacion_info_fumigacion" contract="Fumigacion" method="ObtenerInfoFumigacion">Obtener Info Fumigacion</button>
            <pre class="form_fumigacion_info_fumigacion"></pre>
        </section>
        <section class="fumigacion">
            <h4>
                Fumigacion Obtener Todas:
            </h4>
            <button class="btn btn-secondary" form="form_fumigacion_info_fumigacions" contract="Fumigacion" method="ObtenerInfoFumigaciones">Obtener Todas Fumigacion</button>
            <pre class="form_fumigacion_info_fumigacions"></pre>
        </section>

<!-- FumiToken -->
        <section class="fumitoken" id="tokens">
            <h4>
                Balance de Tokens:
            </h4>
            <form action="" class="form_balance_fumitoken">
            <div class="mb-3">
                <label for="showAccount" class="form-label text-bold">Address</label>
                <input type="text" class="form-control" id="showAccount_balance" >
            </div>
            </form>
            <button class="btn btn-secondary" form="form_balance_fumitoken" contract="FumiToken" method="balanceOf">Obtener Balance</button>
            <pre class="form_balance_fumitoken"></pre>
        </section>
        <section class="fumitoken">
            <h4>
                Mintado de Tokens:
            </h4>
            <form action="" class="form_mint_fumitoken">
                <div class="mb-3">
                    <label for="showAccount" class="form-label text-bold">Address</label>
                    <input type="text" class="form-control" id="showAccount_mint" >
                </div>
                <div class="mb-3">
                    <label for="amount" class="form-label">Cantidad</label>
                    <input type="number" class="form-control" id="amount" value="1" >
                </div>
            </form>
            <button class="btn btn-secondary" form="form_mint_fumitoken" contract="FumiToken" method="mint">Mintar Fumitokens</button>
            <pre class="form_mint_fumitoken"></pre>
        </section>
    </section>

</section>
</body>
</html>